<?xml version="1.0" encoding="utf-8" ?>
<Configuration status="error" monitorInterval="50">
    <properties>
        <property name="LOG_HOME">./log</property>
        <property name="LOG_INFO">./log/Info</property>
        <property name="LOG_PKG">./log/pkg</property>
    </properties>

    <Appenders>
        <RollingRandomAccessFile  name="MainLogAppender" fileName="${LOG_HOME}/MainLog.log"
                                  filePattern="${LOG_PKG}/$${date:yyyy-MM-dd}/MainLog-%d{yyyy-MM-dd HH mm}_ %i.log">
            <PatternLayout pattern="[%d{yyyy-MM-dd HH:mm:ss.SSS}] [%-5level] %l %c{36} - %m%n" />
            <Policies>
                <!-- 在系统启动时，出发拆分规则，生产一个新的日志文件 -->
                <OnStartupTriggeringPolicy />
                <!-- 按照文件大小拆分，10MB -->
                <SizeBasedTriggeringPolicy size="30MB" />
                <!-- 按照时间节点拆分，规则根据filePattern定义的 -->
                <TimeBasedTriggeringPolicy interval="60" modulate="false"/>
            </Policies>
            <!-- 在同一个目录下，文件的个限定为 30个，超过进行覆盖 -->
            <DefaultRolloverStrategy max="50" />
        </RollingRandomAccessFile >
    </Appenders>
    <Loggers>
        <Root level="info">
            <appender-ref ref="MainLogAppender" />
        </Root>
    </Loggers>
</Configuration>